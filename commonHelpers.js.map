{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst formEl = document.querySelector('form');\nconst galleryEl = document.querySelector('.js-gallery-elem');\nconst loaderEl = document.querySelector('.loader');\n\nhideLoader();\n \nconst lightbox = new SimpleLightbox('.gallery a', {\n        captionDelay: 250,\n    });\n\nformEl.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n    e.preventDefault();\n    showLoader();\n\n    const value = formEl.elements.query.value;\n    getPhotoBySearch(value)\n        .then(data => renderImages(data.hits))\n        .catch(error => renderError(error))\n        .finally(() => formEl.reset());\n    \n\n    \n    \n};\n\n \n\nfunction getPhotoBySearch(searchValue) {\n    const BASE_URL = 'https://pixabay.com/api/';\n    const KEY = '?key=42153847-0f7baac2d7b2e92d7ce6bbe8e';\n    const Query = `&q=${searchValue}`;\n    const params = '&image_type=photo&orientation=horizontal&safesearch=true&per_page=20';\n  \n\n    const url = BASE_URL + KEY + Query + params;\n\n    \n    return fetch(url).then((res) => {\n        const arr = res.json();\n        return arr;\n    })\n        .then((array) => {\n            if (array.total === 0) {\n                throw new Error('Результатів не знайдено.');\n            };\n\n            return array;\n        })\n        .catch(error => console.log(error))\n        .finally(() => hideLoader());\n  \n};\n\n\nfunction renderImages(array) {\n    const markup = array.map(({ largeImageURL, webformatURL, tags, likes, views, comments, downloads }) => { return` <div class=\"gallery\">\n    <a href=\"${largeImageURL}\"><div class=\"thumb\"><img src=\"${webformatURL}\" alt=\"${tags}\" title=\"${tags}\" width = \"360px\"\n      height = \"300px\"/>\n       <ul class=\"info-cards-container\">\n      <li class=\"info-cards-elements\">likes<span>${likes}</span></li>\n      <li class=\"info-cards-elements\">views<span>${views}</span></li>\n       <li class=\"info-cards-elements\">comments<span>${comments}</span></li>\n       <li class=\"info-cards-elements\">downloads<span>${downloads}</span></li>\n     </ul>\n     </div>\n      </a>\n    </div>`}).join('');   \n    galleryEl.innerHTML = markup;\n    \n    // hideLoader();\n    lightbox.refresh();\n      \n};\n\n\nfunction renderError(error) {\n    galleryEl.innerHTML = \"\";\n    iziToast.show({\n        message: `❌ \"Sorry, there are no images matching your search query. Please try again!`,\n        color: 'red',\n        position: 'topRight',\n        maxWidth: '400px',\n    });\n    \n};\n\n\nfunction showLoader() {\n  loaderEl.style.display = 'block';\n}\n\nfunction hideLoader() {\n  loaderEl.style.display = 'none';\n}\n\n\n"],"names":["formEl","galleryEl","loaderEl","hideLoader","lightbox","SimpleLightbox","onSubmit","e","showLoader","value","getPhotoBySearch","data","renderImages","error","renderError","searchValue","BASE_URL","KEY","Query","params","url","res","array","markup","largeImageURL","webformatURL","tags","likes","views","comments","downloads","iziToast"],"mappings":"6vBAMA,MAAMA,EAAS,SAAS,cAAc,MAAM,EACtCC,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAW,SAAS,cAAc,SAAS,EAEjDC,IAEA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAC1C,aAAc,GACtB,CAAK,EAELL,EAAO,iBAAiB,SAAUM,CAAQ,EAE1C,SAASA,EAASC,EAAG,CACjBA,EAAE,eAAc,EAChBC,IAEA,MAAMC,EAAQT,EAAO,SAAS,MAAM,MACpCU,EAAiBD,CAAK,EACjB,KAAKE,GAAQC,EAAaD,EAAK,IAAI,CAAC,EACpC,MAAME,GAASC,EAAiB,CAAC,EACjC,QAAQ,IAAMd,EAAO,MAAK,CAAE,CAKrC,CAIA,SAASU,EAAiBK,EAAa,CACnC,MAAMC,EAAW,2BACXC,EAAM,0CACNC,EAAQ,MAAMH,CAAW,GACzBI,EAAS,uEAGTC,EAAMJ,EAAWC,EAAMC,EAAQC,EAGrC,OAAO,MAAMC,CAAG,EAAE,KAAMC,GACRA,EAAI,MAEnB,EACI,KAAMC,GAAU,CACb,GAAIA,EAAM,QAAU,EAChB,MAAM,IAAI,MAAM,0BAA0B,EAG9C,OAAOA,CACnB,CAAS,EACA,MAAMT,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAMV,EAAU,CAAE,CAEnC,CAGA,SAASS,EAAaU,EAAO,CACzB,MAAMC,EAASD,EAAM,IAAI,CAAC,CAAE,cAAAE,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAa;AAAA,eACpGN,CAAa,kCAAkCC,CAAY,UAAUC,CAAI,YAAYA,CAAI;AAAA;AAAA;AAAA,mDAGrDC,CAAK;AAAA,mDACLC,CAAK;AAAA,uDACDC,CAAQ;AAAA,wDACPC,CAAS;AAAA;AAAA;AAAA;AAAA,WAIrD,EAAE,KAAK,EAAE,EACjB7B,EAAU,UAAYsB,EAGtBnB,EAAS,QAAO,CAEpB,CAGA,SAASU,EAAYD,EAAO,CACxBZ,EAAU,UAAY,GACtB8B,EAAS,KAAK,CACV,QAAS,8EACT,MAAO,MACP,SAAU,WACV,SAAU,OAClB,CAAK,CAEL,CAGA,SAASvB,GAAa,CACpBN,EAAS,MAAM,QAAU,OAC3B,CAEA,SAASC,GAAa,CACpBD,EAAS,MAAM,QAAU,MAC3B"}